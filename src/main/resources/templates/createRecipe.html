<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create/Update Recipe</title>
    <style>
        .ingredient { margin-bottom: 20px; }
    </style>
</head>
<body>
<h1>Create/Update Recipe</h1>

<form action="/admin/homepage/createRecipe" method="POST" enctype="multipart/form-data">
    <label for="name">Navn på retten:</label>
    <input type="text" id="name" name="name" required><br>

    <label for="description">Beskrivelse:</label>
    <textarea id="description" name="description" rows="4" required></textarea><br>

    <label for="calories">Kalorier:</label>
    <input type="number" id="calories" name="calories" step="0.01" required><br>

    <label for="protein">Protein (g):</label>
    <input type="number" id="protein" name="protein" step="0.01" required><br>

    <label for="fat">Fedt (g):</label>
    <input type="number" id="fat" name="fat" step="0.01" required><br>

    <label for="carbs">Kulhydrater (g):</label>
    <input type="number" id="carbs" name="carbs" step="0.01" required><br>

    <label for="timeOfDayMeal">Tid på dagen:</label>
    <select id="timeOfDayMeal" name="timeOfDayMeal" required>
        <option value="Morgenmad">Morgenmad</option>
        <option value="Frokost">Frokost</option>
        <option value="Aftensmad">Aftensmad</option>
    </select><br>

    <h3>Ingredienser</h3>
    <div id="ingredientsContainer">
        <div class="ingredient">
            <label for="ingredientName0">Navn:</label>
            <input type="text" id="ingredientName0" name="ingredientName[]" required><br>

            <label for="ingredientCalories0">Kalorier:</label>
            <input type="number" id="ingredientCalories0" name="ingredientCalories[]" step="0.01" required><br>

            <label for="ingredientProtein0">Protein (g):</label>
            <input type="number" id="ingredientProtein0" name="ingredientProtein[]" step="0.01" required><br>

            <label for="ingredientFat0">Fedt (g):</label>
            <input type="number" id="ingredientFat0" name="ingredientFat[]" step="0.01" required><br>

            <label for="ingredientCarbs0">Kulhydrater (g):</label>
            <input type="number" id="ingredientCarbs0" name="ingredientCarbs[]" step="0.01" required><br>

            <label for="ingredientWeight0">Vægt (g):</label>
            <input type="number" id="ingredientWeight0" name="ingredientWeight[]" step="0.01" required><br>
        </div>
    </div>

    <button type="button" onclick="addIngredient()">Tilføj ingrediens</button><br>

    <label for="image">Billede:</label>
    <input type="file" id="image" name="image" accept="image/*" required><br>

    <input type="submit" value="Tilføj ret">
</form>

<script>
    let ingredientCount = 1;

    function addIngredient() {
        const container = document.getElementById('ingredientsContainer');
        const newIngredient = document.createElement('div');
        newIngredient.className = 'ingredient';

        newIngredient.innerHTML = `
            <label for="ingredientName${ingredientCount}">Navn:</label>
            <input type="text" id="ingredientName${ingredientCount}" name="ingredientName[]" required><br>

            <label for="ingredientCalories${ingredientCount}">Kalorier:</label>
            <input type="number" id="ingredientCalories${ingredientCount}" name="ingredientCalories[]" step="0.01" required><br>

            <label for="ingredientProtein${ingredientCount}">Protein (g):</label>
            <input type="number" id="ingredientProtein${ingredientCount}" name="ingredientProtein
${ingredientCount}" step="0.01" required><br>

            <label for="ingredientFat${ingredientCount}">Fedt (g):</label>
            <input type="number" id="ingredientFat${ingredientCount}" name="ingredientFat[]" step="0.01" required><br>

            <label for="ingredientCarbs${ingredientCount}">Kulhydrater (g):</label>
            <input type="number" id="ingredientCarbs${ingredientCount}" name="ingredientCarbs[]" step="0.01" required><br>

            <label for="ingredientWeight${ingredientCount}">Vægt (g):</label>
            <input type="number" id="ingredientWeight${ingredientCount}" name="ingredientWeight[]" step="0.01" required><br>
        `;

        container.appendChild(newIngredient);
        ingredientCount++;
    }
</script>

</body>
</html>
